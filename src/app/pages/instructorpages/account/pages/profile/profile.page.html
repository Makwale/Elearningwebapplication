<ion-header class="ion-no-border">
  <ion-toolbar color="ourtheme">
    <ion-avatar slot="start" style="margin-left:21px; width: 45px; height: 45px; min-width: 45px; min-height: 45px;">
      <img src="../../../../../assets//img/appicon.jpg">
    </ion-avatar >
    <ion-buttons slot="start">
      <ion-button [routerLink]="['/instructorpanel']">Dashboard</ion-button>
    </ion-buttons>

    
    <ion-buttons slot="end" fill="outline" >
      <ion-button fill="clear" (click)="signOut()">
        <ion-icon name="log-out"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="profile-content"  >

  <!-- <ion-spinner style="position: absolute;" class="spinner" *ngIf="isVisible" ></ion-spinner> -->
  
  <div *ngIf="user">
   
    <ion-item *ngIf="!isEdit">
      <ion-buttons slot="end">
        <ion-button  color="warning" size="small" (click)="isEdit = true"><ion-icon size="large" name="create-outline"></ion-icon></ion-button>
      </ion-buttons>
    </ion-item>
    <ion-row class="user-details-wrapper" *ngIf="!isEdit" >
        
    <ion-col size="6" class="user-image-wrapper">
      <img   class="user-image" [src]="user.imageURL">
    </ion-col>
    <ion-col class="user-info-wrapper" size="12">
      <ion-item class="user-info-wrapper">
        <ion-label> {{user.name}} {{user.surname}}</ion-label>
        
      </ion-item>
      <p>{{user.boi}} </p>
      

      <ion-item class="user-info-wrapper">
        <ion-icon size="medium" name ="mail"></ion-icon> <ion-label> {{user.email}}</ion-label>
      </ion-item>
      <ion-item class="user-info-wrapper">
        <ion-icon size="medium" name ="call"></ion-icon> <ion-label> {{user.phone}}</ion-label>
      </ion-item>
      <ion-item class="user-info-wrapper">
        <ion-icon size="medium" name ="location"></ion-icon> <ion-label><p>  {{user.address}}</p></ion-label>
      
      </ion-item>


    </ion-col>
  </ion-row>
  <ion-row class="user-details-wrapper" *ngIf="isEdit">

    <ion-col size="6" class="user-image-wrapper">
      <img (click)="uploadPhoto($event)" class="user-image" [src]="user.imageURL">
      </ion-col>
    <ion-col class="user-info-wrapper" size="12">
      <ion-list class="user-info-wrapper">
          
          <ion-item class="user-info-wrapper" (click) = "updateState('name')" *ngIf="editfield !='name';">First Name:  {{user.name}}</ion-item>
          <ion-item class="user-info-wrapper" class="ion-margin login-input" *ngIf="editfield =='name';">
            Name:  
            <ion-input type="text" placeholder="{{user.name}}" [(ngModel)]="user.name" clearInput autocapitalize="off" ></ion-input>
          </ion-item>
          <ion-item *ngIf="editfield =='name'" class="user-info-wrapper">            
          <ion-button color="dark" (click) = "cancelUpdate()">Cancel</ion-button>
          <ion-button color="warning" (click) = "updatedState()">update</ion-button>
          </ion-item>

          <ion-item class="user-info-wrapper"  (click) = "updateState('surname')" *ngIf="editfield !='surname';">SurnName:  {{user.surname}}</ion-item>
          <ion-item class="user-info-wrapper" class="ion-margin login-input" *ngIf="editfield =='surname';">
            Surname:   
            <ion-input type="text" placeholder="{{user.surname}}" [(ngModel)]="user.surname" clearInput autocapitalize="off" ></ion-input>
          </ion-item>
          <ion-item *ngIf="editfield =='surname'">            
          <ion-button color="dark" (click) = "cancelUpdate()">Cancel</ion-button>
          <ion-button color="warning" (click) = "updatedState()">update</ion-button>
          </ion-item>

          
          <ion-item class="user-info-wrapper" (click) = "updateState('phone')" *ngIf="editfield !='phone';"> Phone:  {{user.phone}}</ion-item>
          <ion-item class="user-info-wrapper" class="ion-margin login-input" *ngIf="editfield =='phone';">
            Phone:   
            <ion-input type="text" placeholder="{{user.phone}}" [(ngModel)]="user.phone" clearInput autocapitalize="off" ></ion-input>
          </ion-item>
          <ion-item *ngIf="editfield =='phone'">            
          <ion-button color="dark" (click) = "cancelUpdate()">Cancel</ion-button>
          <ion-button color="warning" (click) = "updatedState()">update</ion-button>
          </ion-item>
          
          <ion-item class="user-info-wrapper" (click) = "updateState('address')" *ngIf="editfield !='address';"> Address:  {{user.address}}</ion-item>
          <ion-item class="user-info-wrapper" class="ion-margin login-input" *ngIf="editfield =='address';">
            Address:   
            <ion-input type="text" placeholder="{{user.address}}" [(ngModel)]="user.address" clearInput autocapitalize="off" ></ion-input>
          </ion-item>
          <ion-item *ngIf="editfield =='address'">            
          <ion-button color="dark" (click) = "cancelUpdate()">Cancel</ion-button>
          <ion-button color="warning" (click) = "updatedState()">update</ion-button>
          </ion-item>
          <ion-item class="user-info-wrapper" (click) = "updateState('boi')" *ngIf="editfield !='boi';"> Bio:  {{user.boi}}</ion-item>
          <ion-item class="user-info-wrapper" class="ion-margin login-input" *ngIf="editfield =='boi';">
            Bio:   
            <ion-input type="text" placeholder="{{user.boi}}" [(ngModel)]="user.boi" clearInput autocapitalize="off" ></ion-input>
          </ion-item>
          <ion-item *ngIf="editfield =='boi'">            
          <ion-button color="dark" (click) = "cancelUpdate()">Cancel</ion-button>
          <ion-button color="warning" (click) = "updatedState()">update</ion-button>
          </ion-item>





      </ion-list>
      <ion-button color="dark" expand = "block" (click)="isEdit = false">Cancel</ion-button>
      <ion-button color="warning" expand = "block" (click)="isEdit = false">Update</ion-button>
    </ion-col>
  </ion-row>

  </div>
</ion-content>


